"use strict";(self.webpackChunkfrontend_v1=self.webpackChunkfrontend_v1||[]).push([[184],{184:(Re,V,d)=>{d.r(V),d.d(V,{NotesPageModule:()=>Pe});var S=d(8583),b=d(2305),e=d(7716),W=d(2916),B=d(983);let Y=(()=>{class o{constructor(){this.navLinks=[{text:"New Note",url:"/home/notes/new-note",icon:"bi bi-plus-square"},{text:"All Notes",url:"/home/notes/all-notes",icon:"bi bi-list-ul"}]}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-notes-page"]],decls:6,vars:4,consts:[[3,"navBrand","source"],["id","wrapper"],[3,"navLinks","heading"],["id","content-wrapper",1,"d-flex","flex-column"],["id","content"]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-main-navbar",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275element(2,"app-module-sidenav",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275element(5,"router-outlet"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("navBrand","nR Personal")("source","Personal"),e.\u0275\u0275advance(2),e.\u0275\u0275property("navLinks",n.navLinks)("heading","Notes"))},directives:[W.D,B.m,b.lC],styles:[""]}),o})();var w=d(8529),N=d(4958),T=d(4345),y=d(3679);function q(o,i,t,n,s,r,l){try{var a=o[r](l),m=a.value}catch(f){return void t(f)}a.done?i(m):Promise.resolve(m).then(n,s)}function K(o){return function(){var i=this,t=arguments;return new Promise(function(n,s){var r=o.apply(i,t);function l(m){q(r,n,s,l,a,"next",m)}function a(m){q(r,n,s,l,a,"throw",m)}l(void 0)})}}var _=d(9075),J=d(1439),L=d(5319),O=d(2759),U=d(9765),Z=d(6465),X=d(6102);const te=new class extends X.v{}(class extends Z.o{constructor(i,t){super(i,t),this.scheduler=i,this.work=t}schedule(i,t=0){return t>0?super.schedule(i,t):(this.delay=t,this.state=i,this.scheduler.flush(this),this)}execute(i,t){return t>0||this.closed?super.execute(i,t):this._execute(i,t)}requestAsyncId(i,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(i,t,n):i.flush(this)}});var ne=d(7393),ie=d(9193),oe=d(5917),se=d(205);class g{constructor(i,t,n){this.kind=i,this.value=t,this.error=n,this.hasValue="N"===i}observe(i){switch(this.kind){case"N":return i.next&&i.next(this.value);case"E":return i.error&&i.error(this.error);case"C":return i.complete&&i.complete()}}do(i,t,n){switch(this.kind){case"N":return i&&i(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(i,t,n){return i&&"function"==typeof i.next?this.observe(i):this.do(i,t,n)}toObservable(){switch(this.kind){case"N":return(0,oe.of)(this.value);case"E":return(0,se._)(this.error);case"C":return(0,ie.c)()}throw new Error("unexpected notification kind value")}static createNext(i){return void 0!==i?new g("N",i):g.undefinedValueNotification}static createError(i){return new g("E",void 0,i)}static createComplete(){return g.completeNotification}}g.completeNotification=new g("C"),g.undefinedValueNotification=new g("N",void 0);class I extends ne.L{constructor(i,t,n=0){super(i),this.scheduler=t,this.delay=n}static dispatch(i){const{notification:t,destination:n}=i;t.observe(n),this.unsubscribe()}scheduleMessage(i){this.destination.add(this.scheduler.schedule(I.dispatch,this.delay,new le(i,this.destination)))}_next(i){this.scheduleMessage(g.createNext(i))}_error(i){this.scheduleMessage(g.createError(i)),this.unsubscribe()}_complete(){this.scheduleMessage(g.createComplete()),this.unsubscribe()}}class le{constructor(i,t){this.notification=i,this.destination=t}}var ae=d(7971),de=d(8858);class ce extends U.xQ{constructor(i=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const t=this._events;t.push(i),t.length>this._bufferSize&&t.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new ue(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),s=this.scheduler,r=n.length;let l;if(this.closed)throw new ae.N;if(this.isStopped||this.hasError?l=L.w.EMPTY:(this.observers.push(i),l=new de.W(this,i)),s&&i.add(i=new I(i,s)),t)for(let a=0;a<r&&!i.closed;a++)i.next(n[a]);else for(let a=0;a<r&&!i.closed;a++)i.next(n[a].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),l}_getNow(){return(this.scheduler||te).now()}_trimBufferThenGetEvents(){const i=this._getNow(),t=this._bufferSize,n=this._windowTime,s=this._events,r=s.length;let l=0;for(;l<r&&!(i-s[l].time<n);)l++;return r>t&&(l=Math.max(l,r-t)),l>0&&s.splice(0,l),s}}class ue{constructor(i,t){this.time=i,this.value=t}}var Q=d(4395);const pe=[[["","quill-editor-toolbar",""]]],fe=["[quill-editor-toolbar]"],x={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},M=(o,i)=>o||i||"html",A=new e.InjectionToken("config",{providedIn:"root",factory:()=>({modules:x})});let P=(()=>{class o{constructor(t,n){var s=this;this.config=n,this.quill$=(0,J.P)(K(function*(){var a,m;const r=s.document.addEventListener;s.document.addEventListener=s.document.__zone_symbol__addEventListener||s.document.addEventListener;const l=yield d.e(161).then(d.t.bind(d,2161,19));return s.document.addEventListener=r,s.Quill=l.default?l.default:l,null==(a=s.config.customOptions)||a.forEach(f=>{const u=s.Quill.import(f.import);u.whitelist=f.whitelist,s.Quill.register(u,!0,s.config.suppressGlobalRegisterWarning)}),null==(m=s.config.customModules)||m.forEach(({implementation:f,path:u})=>{s.Quill.register(u,f,s.config.suppressGlobalRegisterWarning)}),s.Quill})).pipe(function(o,i,t){let n;return n=o&&"object"==typeof o?o:{bufferSize:o,windowTime:i,refCount:!1,scheduler:t},s=>s.lift(function({bufferSize:o=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:t,scheduler:n}){let s,l,r=0,a=!1,m=!1;return function(u){let h;r++,!s||a?(a=!1,s=new ce(o,i,n),h=s.subscribe(this),l=u.subscribe({next(c){s.next(c)},error(c){a=!0,s.error(c)},complete(){m=!0,l=void 0,s.complete()}}),m&&(l=void 0)):h=s.subscribe(this),this.add(()=>{r--,h.unsubscribe(),h=void 0,l&&!m&&t&&0===r&&(l.unsubscribe(),l=void 0,s=void 0)})}}(n))}({bufferSize:1,refCount:!0})),this.document=t.get(S.K0),this.config||(this.config={modules:x})}getQuill(){return this.quill$}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275inject(e.Injector),e.\u0275\u0275inject(A,8))},o.\u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),ge=(()=>{class o{constructor(t,n,s,r,l,a,m,f){this.elementRef=n,this.cd=s,this.domSanitizer=r,this.platformId=l,this.renderer=a,this.zone=m,this.service=f,this.required=!1,this.customToolbarPosition="top",this.sanitize=!1,this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.EventEmitter,this.onEditorChanged=new e.EventEmitter,this.onContentChanged=new e.EventEmitter,this.onSelectionChanged=new e.EventEmitter,this.onFocus=new e.EventEmitter,this.onBlur=new e.EventEmitter,this.disabled=!1,this.subscription=null,this.quillSubscription=null,this.valueGetter=(u,h)=>{let c=h.querySelector(".ql-editor").innerHTML;("<p><br></p>"===c||"<div><br></div>"===c)&&(c=this.defaultEmptyValue);let p=c;const E=M(this.format,this.service.config.format);if("text"===E)p=u.getText();else if("object"===E)p=u.getContents();else if("json"===E)try{p=JSON.stringify(u.getContents())}catch(C){p=u.getText()}return p},this.valueSetter=(u,h)=>{const c=M(this.format,this.service.config.format);if("html"===c)return this.sanitize&&(h=this.domSanitizer.sanitize(e.SecurityContext.HTML,h)),u.clipboard.convert(h);if("json"===c)try{return JSON.parse(h)}catch(p){return[{insert:h}]}return h},this.selectionChangeHandler=(u,h,c)=>{const p=!u&&!!this.onModelTouched;!this.onBlur.observers.length&&!this.onFocus.observers.length&&!this.onSelectionChanged.observers.length&&!p||this.zone.run(()=>{null===u?this.onBlur.emit({editor:this.quillEditor,source:c}):null===h&&this.onFocus.emit({editor:this.quillEditor,source:c}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:h,range:u,source:c}),p&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(u,h,c)=>{const p=this.quillEditor.getText(),E=this.quillEditor.getContents();let C=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===C||"<div><br></div>"===C)&&(C=this.defaultEmptyValue);const v=this.trackChanges||this.service.config.trackChanges,G=("user"===c||v&&"all"===v)&&!!this.onModelChange;!this.onContentChanged.observers.length&&!G||this.zone.run(()=>{G&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:E,delta:u,editor:this.quillEditor,html:C,oldDelta:h,source:c,text:p}),this.cd.markForCheck()})},this.editorChangeHandler=(u,h,c,p)=>{if(this.onEditorChanged.observers.length)if("text-change"===u){const E=this.quillEditor.getText(),C=this.quillEditor.getContents();let v=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===v||"<div><br></div>"===v)&&(v=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:C,delta:h,editor:this.quillEditor,event:u,html:v,oldDelta:c,source:p,text:E}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:u,oldRange:c,range:h,source:p}),this.cd.markForCheck()})},this.document=t.get(S.K0)}static normalizeClassNames(t){return t.trim().split(" ").reduce((s,r)=>{const l=r.trim();return l&&s.push(l),s},[])}ngAfterViewInit(){(0,S.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().subscribe(t=>{this.elementRef.nativeElement.insertAdjacentHTML("top"===this.customToolbarPosition?"beforeend":"afterbegin",this.preserveWhitespace?"<pre quill-editor-element></pre>":"<div quill-editor-element></div>"),this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const n=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),s=Object.assign({},this.modules||this.service.config.modules);n?s.toolbar=n:void 0===s.toolbar&&(s.toolbar=x.toolbar);let r=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===r&&(r="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(c=>{this.renderer.setStyle(this.editorElem,c,this.styles[c])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(c=>{const p=t.import(c.import);p.whitelist=c.whitelist,t.register(p,!0)}),this.customModules.forEach(({implementation:c,path:p})=>{t.register(p,c)});let l=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;l||(l=this.service.config.bounds?this.service.config.bounds:this.document.body);let a=this.debug;!a&&!1!==a&&this.service.config.debug&&(a=this.service.config.debug);let m=this.readOnly;!m&&!1!==this.readOnly&&(m=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let f=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(f=this.service.config.defaultEmptyValue);let u=this.scrollingContainer;!u&&null!==this.scrollingContainer&&(u=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let h=this.formats;if(!h&&void 0===h&&(h=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{var c,p,E;if(this.quillEditor=new t(this.editorElem,{bounds:l,debug:a,formats:h,modules:s,placeholder:r,readOnly:m,defaultEmptyValue:f,scrollingContainer:u,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.linkPlaceholder){const C=null==(p=null==(c=this.quillEditor)?void 0:c.theme)?void 0:p.tooltip,v=null==(E=null==C?void 0:C.root)?void 0:E.querySelector("input[data-link]");(null==v?void 0:v.dataset)&&(v.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===M(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const p=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(p,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observers.length||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor)})}))}ngOnDestroy(){var t;this.dispose(),null==(t=this.quillSubscription)||t.unsubscribe(),this.quillSubscription=null}ngOnChanges(t){if(this.quillEditor){if(t.readOnly&&this.quillEditor.enable(!t.readOnly.currentValue),t.placeholder&&(this.quillEditor.root.dataset.placeholder=t.placeholder.currentValue),t.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=t.defaultEmptyValue.currentValue),t.styles){const n=t.styles.currentValue,s=t.styles.previousValue;s&&Object.keys(s).forEach(r=>{this.renderer.removeStyle(this.editorElem,r)}),n&&Object.keys(n).forEach(r=>{this.renderer.setStyle(this.editorElem,r,this.styles[r])})}if(t.classes){const n=t.classes.currentValue,s=t.classes.previousValue;s&&this.removeClasses(s),n&&this.addClasses(n)}t.debounceTime&&this.addQuillEventListeners()}}addClasses(t){o.normalizeClassNames(t).forEach(n=>{this.renderer.addClass(this.editorElem,n)})}removeClasses(t){o.normalizeClassNames(t).forEach(n=>{this.renderer.removeClass(this.editorElem,n)})}writeValue(t){if(this.filterNull&&null===t||(this.content=t,!this.quillEditor))return;const n=M(this.format,this.service.config.format),s=this.valueSetter(this.quillEditor,t);if(this.compareValues){const r=this.quillEditor.getContents();if(JSON.stringify(r)===JSON.stringify(s))return}t?"text"===n?this.quillEditor.setText(t):this.quillEditor.setContents(s):this.quillEditor.setText("")}setDisabledState(t=this.disabled){this.disabled=t,this.quillEditor&&(t?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}registerOnValidatorChange(t){this.onValidatorChanged=t}validate(){if(!this.quillEditor)return null;const t={};let n=!0;const s=this.quillEditor.getText(),r=this.trimOnValidation?s.trim().length:1===s.length&&0===s.trim().length?0:s.length-1,l=this.quillEditor.getContents().ops,a=l&&1===l.length&&["\n",""].includes(l[0].insert);return this.minLength&&r&&r<this.minLength&&(t.minLengthError={given:r,minLength:this.minLength},n=!1),this.maxLength&&r>this.maxLength&&(t.maxLengthError={given:r,maxLength:this.maxLength},n=!1),this.required&&!r&&a&&(t.requiredError={empty:!0},n=!1),n?null:t}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new L.w,this.subscription.add((0,O.R)(this.quillEditor,"selection-change").subscribe(([s,r,l])=>{this.selectionChangeHandler(s,r,l)}));let t=(0,O.R)(this.quillEditor,"text-change"),n=(0,O.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(t=t.pipe((0,Q.b)(this.debounceTime)),n=n.pipe((0,Q.b)(this.debounceTime))),this.subscription.add(t.subscribe(([s,r,l])=>{this.textChangeHandler(s,r,l)})),this.subscription.add(n.subscribe(([s,r,l,a])=>{this.editorChangeHandler(s,r,l,a)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(_.H7),e.\u0275\u0275directiveInject(e.PLATFORM_ID),e.\u0275\u0275directiveInject(e.Renderer2),e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(P))},o.\u0275dir=e.\u0275\u0275defineDirective({type:o,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[e.\u0275\u0275NgOnChangesFeature]}),o})(),R=(()=>{class o extends ge{constructor(t,n,s,r,l,a,m,f){super(t,n,s,r,l,a,m,f)}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(e.Injector),e.\u0275\u0275directiveInject(e.ElementRef),e.\u0275\u0275directiveInject(e.ChangeDetectorRef),e.\u0275\u0275directiveInject(_.H7),e.\u0275\u0275directiveInject(e.PLATFORM_ID),e.\u0275\u0275directiveInject(e.Renderer2),e.\u0275\u0275directiveInject(e.NgZone),e.\u0275\u0275directiveInject(P))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["quill-editor"]],features:[e.\u0275\u0275ProvidersFeature([{multi:!0,provide:y.JU,useExisting:(0,e.forwardRef)(()=>o)},{multi:!0,provide:y.Cf,useExisting:(0,e.forwardRef)(()=>o)}]),e.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:fe,decls:1,vars:0,template:function(t,n){1&t&&(e.\u0275\u0275projectionDef(pe),e.\u0275\u0275projection(0))},styles:[":host{display:inline-block}\n"],encapsulation:2}),o})(),ve=(()=>{class o{static forRoot(t){return{ngModule:o,providers:[{provide:A,useValue:t}]}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[S.ez]]}),o})();const be=["connectionToastComponentReference"];let Ce=(()=>{class o{constructor(t,n){this.router=t,this.notesApi=n,this.navHeading=[{text:"New Note",url:"/home/notes/new-note"}],this.subject="",this.body=""}ngOnInit(){this.initModules(),this.initStyles()}saveNote(){let t={user:localStorage.getItem("personal_id"),subject:this.subject,body:this.body};console.log(t),this.notesApi.postNote(t).subscribe(n=>{console.log(n),sessionStorage.setItem("personal_note_id",n.id),this.router.navigateByUrl("/home/notes/view-note")},n=>{console.log(n),this.connectionToast.openToast()})}initModules(){this.modules={"emoji-shortname":!0,"emoji-textarea":!0,"emoji-tooolbar":!0}}initStyles(){this.modules={height:"250px"}}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(N.Z))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-new-note"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(be,5,w.Y),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.connectionToast=s.first)}},decls:19,vars:6,consts:[[3,"headings"],[1,"container"],[1,"row"],[1,"col-md-7"],[1,"row","mb-3","page-form"],[1,"col-md-3"],[1,"float-end","mt-1"],[1,"form-control","form-control-sm","w-100",3,"ngModel","ngModelChange"],["trackChanges","all",3,"ngModel","modules","styles","placeholder","ngModelChange"],[1,"row","mt-3","page-form"],[1,"col-md-12"],["routerLink","/home/notes/all-notes",1,"btn","btn-secondary","btn-sm","float-end","ms-1","page-form-btn"],[1,"btn","btn-secondary","btn-sm","float-end","ms-1","page-form-btn",3,"click"],["connectionToastComponentReference",""]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-module-topnav",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"label",6),e.\u0275\u0275text(7,"Subject :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",3),e.\u0275\u0275elementStart(9,"input",7),e.\u0275\u0275listener("ngModelChange",function(r){return n.subject=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"quill-editor",8),e.\u0275\u0275listener("ngModelChange",function(r){return n.body=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275text(14,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",12),e.\u0275\u0275listener("click",function(){return n.saveNote()}),e.\u0275\u0275text(16,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(17,"app-connection-toast",null,13)),2&t&&(e.\u0275\u0275property("headings",n.navHeading),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngModel",n.subject),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",n.body)("modules",n.modules)("styles",n.styles)("placeholder",""))},directives:[T.H,y.Fj,y.JJ,y.On,R,b.rH,w.Y],styles:[".attachment-btn[_ngcontent-%COMP%]{font-size:14px}"]}),o})();var D=d(610);const Ee=["connectionToastComponentReference"],ye=["deleteModalComponentReference"];let Se=(()=>{class o{constructor(t,n){this.router=t,this.notesApi=n,this.navHeading=[{text:"All Notes",url:"/home/notes/all-notes"},{text:"Note View",url:"/home/notes/view-note"}],this.subject="",this.body=""}ngOnInit(){this.initModules(),this.initStyles()}ngAfterViewInit(){this.getNote()}getNote(){this.notesApi.getNote().subscribe(t=>{console.log(t),this.subject=t.subject,this.body=t.body},t=>{console.log(t),this.connectionToast.openToast()})}saveNote(){let t={user:localStorage.getItem("personal_id"),subject:this.subject,body:this.body};console.log(t),this.notesApi.putNote(t).subscribe(n=>{console.log(n)},n=>{console.log(n),this.connectionToast.openToast()})}deleteNote(){this.notesApi.deleteNote().subscribe(t=>{console.log(t),sessionStorage.removeItem("personal_note_id"),this.router.navigateByUrl("/home/notes/all-notes")},t=>{console.log(t),this.connectionToast.openToast()})}initModules(){this.modules={"emoji-shortname":!0,"emoji-textarea":!0,"emoji-tooolbar":!0}}initStyles(){this.modules={height:"250px"}}confirmDelete(){this.deleteModal.openModal()}onPrint(){console.log("lets start printing...")}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(N.Z))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-view-note"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(Ee,5,w.Y),e.\u0275\u0275viewQuery(ye,5,D.z)),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.connectionToast=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.deleteModal=s.first)}},decls:23,vars:7,consts:[[3,"headings","showPrint","print"],[1,"container"],[1,"row"],[1,"col-md-7"],[1,"row","mb-3","page-form"],[1,"col-md-3"],[1,"float-end","mt-1"],[1,"form-control","form-control-sm","w-100",3,"ngModel","ngModelChange"],["trackChanges","all",3,"ngModel","modules","styles","placeholder","ngModelChange"],[1,"row","mt-3","page-form"],[1,"col-md-12"],["routerLink","/home/notes/all-notes",1,"btn","btn-secondary","btn-sm","float-end","ms-1","page-form-btn"],[1,"btn","btn-secondary","btn-sm","float-end","ms-1","page-form-btn",3,"click"],["connectionToastComponentReference",""],[3,"confirmEvent"],["deleteModalComponentReference",""]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"app-module-topnav",0),e.\u0275\u0275listener("print",function(){return n.onPrint()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"label",6),e.\u0275\u0275text(7,"Subject :"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(8,"div",3),e.\u0275\u0275elementStart(9,"input",7),e.\u0275\u0275listener("ngModelChange",function(r){return n.subject=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"quill-editor",8),e.\u0275\u0275listener("ngModelChange",function(r){return n.body=r}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(11,"div",9),e.\u0275\u0275elementStart(12,"div",10),e.\u0275\u0275elementStart(13,"button",11),e.\u0275\u0275text(14,"Cancel"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"button",12),e.\u0275\u0275listener("click",function(){return n.confirmDelete()}),e.\u0275\u0275text(16,"Delete"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(17,"button",12),e.\u0275\u0275listener("click",function(){return n.saveNote()}),e.\u0275\u0275text(18,"Save"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(19,"app-connection-toast",null,13),e.\u0275\u0275elementStart(21,"app-delete-modal",14,15),e.\u0275\u0275listener("confirmEvent",function(){return n.deleteNote()}),e.\u0275\u0275elementEnd()),2&t&&(e.\u0275\u0275property("headings",n.navHeading)("showPrint",!0),e.\u0275\u0275advance(9),e.\u0275\u0275property("ngModel",n.subject),e.\u0275\u0275advance(1),e.\u0275\u0275property("ngModel",n.body)("modules",n.modules)("styles",n.styles)("placeholder",""))},directives:[T.H,y.Fj,y.JJ,y.On,R,b.rH,w.Y,D.z],styles:[""]}),o})();var F=d(3203),j=d(4289),we=d(490);let Ne=(()=>{class o{constructor(t,n){this.pdfPrint=t,this.notesApi=n,this.notesGridData=[]}getPrintNotes(t){this.notesApi.getNotes(1,t,"").subscribe(n=>{console.log(n),this.notesGridData=n.results,this.printAllNotes()},n=>{console.log(n)})}printAllNotes(){let t=this.notesGridData.map(function(r){return{subject:r.subject,created_at:new Date(r.created_at).toISOString().slice(0,16),updated_at:new Date(r.updated_at).toISOString().slice(0,16)}});var n=[["Subject","Created At","Last Updated"]];t.forEach(r=>{var l=[];for(let a in r)l.push(r[a]);n.push(l)}),this.pdfPrint.openPdf([{layout:"lightHorizontalLines",table:{headerRows:1,widths:["50%","25%","25%"],body:n}}])}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275inject(we.n),e.\u0275\u0275inject(N.Z))},o.\u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Te=["connectionToastComponentReference"],Ie=["tablePaginationComponentReference"],Me=["subjectSortingComponentReference"],je=["createdAtSortingComponentReference"],Oe=["updatedAtSortingComponentReference"];function xe(o,i){if(1&o){const t=e.\u0275\u0275getCurrentView();e.\u0275\u0275elementStart(0,"tr",20),e.\u0275\u0275listener("dblclick",function(){const r=e.\u0275\u0275restoreView(t).$implicit;return e.\u0275\u0275nextContext().viewNote(r.id)}),e.\u0275\u0275elementStart(1,"td"),e.\u0275\u0275text(2),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(3,"td"),e.\u0275\u0275text(4),e.\u0275\u0275pipe(5,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"td"),e.\u0275\u0275text(7),e.\u0275\u0275pipe(8,"date"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd()}if(2&o){const t=i.$implicit;e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(null==t?null:t.subject),e.\u0275\u0275advance(2),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(5,3,null==t?null:t.created_at)),e.\u0275\u0275advance(3),e.\u0275\u0275textInterpolate(e.\u0275\u0275pipeBind1(8,5,null==t?null:t.updated_at))}}let Ve=(()=>{class o{constructor(t,n,s){this.router=t,this.notesApi=n,this.notesPrint=s,this.navHeading=[{text:"All Notes",url:"/home/notes/all-notes"}],this.notesGridData=[],this.currentPage=0,this.totalPages=0,this.totalItems=0}ngOnInit(){}ngAfterViewInit(){this.getNotes(1,20,"")}getNotes(t,n,s){this.notesApi.getNotes(t,n,s).subscribe(r=>{console.log(r),this.notesGridData=r.results,this.currentPage=r.current_page,this.totalPages=r.total_pages,this.totalItems=r.count},r=>{console.log(r),this.connectionToast.openToast()})}viewNote(t){console.log(t),sessionStorage.setItem("personal_note_id",t),this.router.navigateByUrl("/home/notes/view-note")}sortTable(t){console.log(t),this.getNotes(1,20,t),"subject"==t||"-subject"==t?(this.createdAtSorting.resetSort(),this.updatedAtSorting.resetSort()):"created_at"==t||"-created_at"==t?(this.subjectSorting.resetSort(),this.updatedAtSorting.resetSort()):("updated_at"==t||"-updated_at"==t)&&(this.subjectSorting.resetSort(),this.createdAtSorting.resetSort())}onPrint(){console.log("lets start printing..."),this.notesPrint.getPrintNotes(this.totalItems)}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(b.F0),e.\u0275\u0275directiveInject(N.Z),e.\u0275\u0275directiveInject(Ne))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-all-notes"]],viewQuery:function(t,n){if(1&t&&(e.\u0275\u0275viewQuery(Te,5,w.Y),e.\u0275\u0275viewQuery(Ie,5,F.Q),e.\u0275\u0275viewQuery(Me,5,j.m),e.\u0275\u0275viewQuery(je,5,j.m),e.\u0275\u0275viewQuery(Oe,5,j.m)),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.connectionToast=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.tablePagination=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.subjectSorting=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.createdAtSorting=s.first),e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.updatedAtSorting=s.first)}},decls:32,vars:8,consts:[[3,"headings","showPrint","print"],[1,"container"],[1,"row","mb-3"],[1,"col-md-12"],["routerLink","/home/notes/new-note",1,"btn","btn-secondary","page-add-btn"],[1,"row"],[1,"col-md-8"],[1,"table","table-bordered","table-sm","w-100","page-table"],[1,"bg-light"],["width","50%"],[3,"sortField","sortDirection"],["subjectSortingComponentReference",""],["width","25%"],["createdAtSortingComponentReference",""],["updatedAtSortingComponentReference",""],["class","table-pointer",3,"dblclick",4,"ngFor","ngForOf"],["colspan","3"],[3,"currentPage","totalPages","pageSelected"],["tablePaginationComponentReference",""],["connectionToastComponentReference",""],[1,"table-pointer",3,"dblclick"]],template:function(t,n){1&t&&(e.\u0275\u0275elementStart(0,"app-module-topnav",0),e.\u0275\u0275listener("print",function(){return n.onPrint()}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"button",4),e.\u0275\u0275text(5,"New Note"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(6,"div",5),e.\u0275\u0275elementStart(7,"div",6),e.\u0275\u0275elementStart(8,"table",7),e.\u0275\u0275elementStart(9,"thead"),e.\u0275\u0275elementStart(10,"tr",8),e.\u0275\u0275elementStart(11,"th",9),e.\u0275\u0275text(12," Subject "),e.\u0275\u0275elementStart(13,"app-table-sorting",10,11),e.\u0275\u0275listener("sortDirection",function(r){return n.sortTable(r)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(15,"th",12),e.\u0275\u0275text(16," Created At "),e.\u0275\u0275elementStart(17,"app-table-sorting",10,13),e.\u0275\u0275listener("sortDirection",function(r){return n.sortTable(r)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(19,"th",12),e.\u0275\u0275text(20," Last Updated "),e.\u0275\u0275elementStart(21,"app-table-sorting",10,14),e.\u0275\u0275listener("sortDirection",function(r){return n.sortTable(r)}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(23,"tbody"),e.\u0275\u0275template(24,xe,9,7,"tr",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(25,"tfoot"),e.\u0275\u0275elementStart(26,"tr",8),e.\u0275\u0275elementStart(27,"td",16),e.\u0275\u0275elementStart(28,"app-table-pagination",17,18),e.\u0275\u0275listener("pageSelected",function(r){return n.getNotes(r,10,"")}),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(30,"app-connection-toast",null,19)),2&t&&(e.\u0275\u0275property("headings",n.navHeading)("showPrint",!0),e.\u0275\u0275advance(13),e.\u0275\u0275property("sortField","subject"),e.\u0275\u0275advance(4),e.\u0275\u0275property("sortField","created_at"),e.\u0275\u0275advance(4),e.\u0275\u0275property("sortField","updated_at"),e.\u0275\u0275advance(3),e.\u0275\u0275property("ngForOf",n.notesGridData),e.\u0275\u0275advance(4),e.\u0275\u0275property("currentPage",n.currentPage)("totalPages",n.totalPages))},directives:[T.H,b.rH,j.m,S.sg,F.Q,w.Y],pipes:[S.uU],styles:[""]}),o})();var z=d(6178);const qe=["connectionToastComponentReference"];let H=(()=>{class o{constructor(t){this.notesApi=t,this.navHeading=[{text:"Dashboard",url:"/home/notes/dashboard"}],this.notesLineChartData=[{data:[0],label:"Notes"}],this.notesLineChartLabels=[""],this.chartOptions={responsive:!0,scales:{yAxes:[{beginAtZero:!0,min:0,ticks:{stepSize:1}}]}}}ngOnInit(){}ngAfterViewInit(){this.getNotesCount(),this.getNoteAnnotation()}getNotesCount(){this.notesApi.getCounts("Note").subscribe(t=>{console.log(t),this.allNotesCount=t},t=>{console.log(t),this.connectionToast.openToast()})}getNoteAnnotation(){this.notesApi.getAnnotation("Note").subscribe(t=>{console.log(t),this.setNoteChartData(t)},t=>{console.log(t),this.connectionToast.openToast()})}setNoteChartData(t){this.notesLineChartLabels=[];for(let s=0;s<t.length;s++)this.notesLineChartLabels.push(t[s].date);console.log(this.notesLineChartLabels);let n=[];for(let s=0;s<t.length;s++)n.push(t[s].count);console.log(n),this.notesLineChartData=[{data:n,label:"Notes"}]}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275directiveInject(N.Z))},o.\u0275cmp=e.\u0275\u0275defineComponent({type:o,selectors:[["app-dashboard"]],viewQuery:function(t,n){if(1&t&&e.\u0275\u0275viewQuery(qe,5,w.Y),2&t){let s;e.\u0275\u0275queryRefresh(s=e.\u0275\u0275loadQuery())&&(n.connectionToast=s.first)}},decls:23,vars:7,consts:[[3,"headings"],[1,"container"],[1,"row"],[1,"col-md-3","mb-4"],[1,"card","border-left-secondary","shadow","h-100","py-2"],[1,"card-body"],[1,"row","no-gutters","align-items-center"],[1,"col","mr-2"],[1,"text-xs","font-weight-bold","text-uppercase","mb-1"],[1,"h5","mb-0","font-weight-bold","text-gray-800"],[1,"col-md-8"],[1,"card","shadow","mb-4"],[1,"card-header","py-3","d-flex","flex-row","align-items-center","justify-content-between"],[1,"m-0","font-weight-bold"],[1,"chart-area"],["baseChart","",3,"datasets","labels","options","legend","chartType"],["connectionToastComponentReference",""]],template:function(t,n){1&t&&(e.\u0275\u0275element(0,"app-module-topnav",0),e.\u0275\u0275elementStart(1,"div",1),e.\u0275\u0275elementStart(2,"div",2),e.\u0275\u0275elementStart(3,"div",3),e.\u0275\u0275elementStart(4,"div",4),e.\u0275\u0275elementStart(5,"div",5),e.\u0275\u0275elementStart(6,"div",6),e.\u0275\u0275elementStart(7,"div",7),e.\u0275\u0275elementStart(8,"div",8),e.\u0275\u0275text(9,"All Notes"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(10,"div",9),e.\u0275\u0275text(11),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(12,"div",2),e.\u0275\u0275elementStart(13,"div",10),e.\u0275\u0275elementStart(14,"div",11),e.\u0275\u0275elementStart(15,"div",12),e.\u0275\u0275elementStart(16,"h6",13),e.\u0275\u0275text(17,"Total Notes by Day"),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementStart(18,"div",5),e.\u0275\u0275elementStart(19,"div",14),e.\u0275\u0275element(20,"canvas",15),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275elementEnd(),e.\u0275\u0275element(21,"app-connection-toast",null,16)),2&t&&(e.\u0275\u0275property("headings",n.navHeading),e.\u0275\u0275advance(11),e.\u0275\u0275textInterpolate(n.allNotesCount),e.\u0275\u0275advance(9),e.\u0275\u0275property("datasets",n.notesLineChartData)("labels",n.notesLineChartLabels)("options",n.chartOptions)("legend",!0)("chartType","line"))},directives:[T.H,z.jh,w.Y],styles:[""]}),o})();const _e=[{path:"",component:Y,children:[{path:"",component:H},{path:"dashboard",component:H},{path:"new-note",component:Ce},{path:"view-note",component:Se,canActivate:[(()=>{class o{constructor(t){this.router=t}canActivate(t){return!!sessionStorage.getItem("personal_note_id")||(this.router.navigateByUrl("/home/notes"),!1)}}return o.\u0275fac=function(t){return new(t||o)(e.\u0275\u0275inject(b.F0))},o.\u0275prov=e.\u0275\u0275defineInjectable({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()]},{path:"all-notes",component:Ve}]}];let Le=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[b.Bz.forChild(_e)],b.Bz]}),o})();var Qe=d(6305),k=d(2743);let Ae=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[S.ez,b.Bz,y.u5,z.m9,ve,k.p]]}),o})(),Pe=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.\u0275\u0275defineNgModule({type:o}),o.\u0275inj=e.\u0275\u0275defineInjector({imports:[[S.ez,Le,Qe.M,k.p,Ae]]}),o})()}}]);